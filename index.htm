<!DOCTYPE HTML>

<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>jQuery UI select menu</title>
	<link rel="stylesheet" type="text/css" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.9/themes/base/jquery-ui.css">
	<style type="text/css">
		<!--
		.ui-selectmenu-area {
			position : relative;
		}

		.ui-selectmenu-list {
			list-style          : none;
			list-style-position : outside;
			padding             : 0px;
			margin              : 0px;
			position            : absolute;
			overflow-y          : auto;
			text-align          : left;
			display             : block;
			visibility          : hidden;
		}

		.ui-selectmenu-list ul {
			list-style          : none;
			list-style-position : outside;
			padding             : 0px;
			margin              : 0px;
		}

		.ui-selectmenu-list li {
			border : transparent 1px solid;
		}

		.ui-selectmenu-list .ui-widget-header {

			padding       : 3px;
			font-variant  : small-caps;
			padding-left  : 2px;
			margin-bottom : 1px;

		}

		.ui-selectmenu-list li:not(.group) {
			padding : 3px;

			cursor  : pointer;
		}

		.ui-selectmenu-list li.group li {
			padding-left : 10px;
		}

		.past {
			color      : #999;
			font-style : italic;
		}

		article {
			top : 100px;
		}

		header {
			position : absolute;
			top      : 0px;
			left     : 0px;
			right    : 0px;
		}

		footer {
			position : absolute;
			bottom   : 0px;
			left     : 0px;
			right    : 0px;
		}

		body, td, th {
			font-family : Arial, Helvetica, sans-serif;
			font-size   : 12px;
		}

		h1, h2, h3, h4 {
			font-family : times, Times New Roman, times-roman, georgia, serif;
			color       : #444;

		}

		h1 {

			margin           : 20px 0 10px 0;
			padding          : 10px 0px 16px 0px;
			text-shadow      : 1px 1px 1px #000;
			font-size        : 46px;
			line-height      : 44px;
			letter-spacing   : -2px;
			font-weight      : bold;

			text-align       : left;
			display          : block;
			background-color : white;

			padding-left     : 10px;
			border-bottom    : #e1e1e1 1px solid;

		}

		h1 span {
			color : #f66;
		}

		h2 {
			font-size : 22px;
		}

		table td {
			padding       : 5px;
			border-bottom : #e1e1e1 1px dotted;
		}

		pre {
			-moz-box-shadow    : inset 0 0 10px rgba(0, 0, 0, 0.3);
			-webkit-box-shadow : inset 0 0 10px rgba(0, 0, 0, 0.3);
			box-shadow         : inset 0 0 10px rgba(0, 0, 0, 0.3);
			border             : #999 1px solid;
			padding            : 10px;

		}
		#src {
			width:99%;
			-moz-box-shadow    : inset 0 0 10px rgba(0, 0, 0, 0.3);
			-webkit-box-shadow : inset 0 0 10px rgba(0, 0, 0, 0.3);
			box-shadow         : inset 0 0 10px rgba(0, 0, 0, 0.3);
			border             : #999 1px solid;
			padding            : 10px;
		}

		-->
	</style>
</head>

<body>
<h1>jQuery UI <span>select</span> menu</h1>
<select name="select1">
	<option value="1">select 1</option>
	<option value="2">select 2</option>
	<option value="3">select 3</option>
	<option value="4">select 4</option>
</select>

<h2>Usage</h2>
<pre>
$("select.down").selectmenu({
	speed: 400,
	maxHeight: 300,
	direction: "auto",
	width:"",
	before: function(){ ... },
	after: function(){ ... },
	change: function(){ ... }
});
</pre>
<h2>Options</h2>
<table>
	<tr>
		<td>Option</td>
		<td>Type</td>
		<td>Description</td>
	</tr>
	<tr>
		<td>Speed</td>
		<td>numeric</td>
		<td>animation speed (fade in/out)</td>
	</tr>
	<tr>
		<td>maxHeight</td>
		<td>numeric</td>
		<td>the maximum height of the menu</td>
	</tr>
	<tr>
		<td>direction</td>
		<td>string</td>
		<td>"up", "down", "auto" - if you dont want the menu to auto decide which way it must flip</td>
	</tr>
	<tr>
		<td>width</td>
		<td>numeric</td>
		<td>if you want the menu to be a specific width. in pixels</td>
	</tr>
	<tr>
		<td>before</td>
		<td>function</td>
		<td>before the menu stuff starts being rendered.. run this function</td>
	</tr>
	<tr>
		<td>after</td>
		<td>function</td>
		<td>run this function after the menu has been setup</td>
	</tr>
	<tr>
		<td>change</td>
		<td>function</td>
		<td>when an item has been selected... this is your function</td>
	</tr>
</table>
<h2>Methods</h2>
<table>
	<tr>
		<td>$("select").selectmenu("position")</td>
		<td>Resets the position of the menu. useful to combat the menu floating in the air if you hide some options
		    based on another menu
		</td>
	</tr>
	<tr>
		<td>$("select").selectmenu("destroy")</td>
		<td>removes the menu... but before it does it burns all your friends for being mean to it :/</td>
	</tr>
</table>
<h2>Examples</h2>
<table>
	<tr>
		<td colspan="2"><h3>Simple usage</h3></td>
	</tr>
	<tr>
		<td>
			<select name="select1">
				<option value="1">select 1</option>
				<option value="2">select 2</option>
				<option value="3">select 3</option>
				<option value="4">select 4</option>
			</select>
		</td>
		<td>
			<pre>
$("select[name='select1']").selectmenu();
			</pre>

		</td>
	</tr>
	<tr>
		<td colspan="2"><h3>Few more options included</h3></td>
	</tr>
	<tr>
		<td>
			<select name="select2">
				<option value="1">select 1</option>
				<option value="2">select 2</option>
				<option value="3">select 3</option>
				<option value="4">select 4</option>
			</select>
		</td>
		<td>
			<pre>
$("select[name='select2']").selectmenu({
	direction: "down",
	speed:1000,
	maxHeight:200,
	change: function(){
		alert("value: " + $(this).val() );
	}
});
			</pre>

		</td>
	</tr>
	<tr>
		<td colspan="2"><h3>Advanced</h3>the publication menu defines which date items should be shown. changing the
		                                 publication selects the next "future" date in the list
		</td>
	</tr>
	<tr>
		<td style="vertical-align:top; padding-top:20px;">
			<select id="pID" name="pID">
				<option value="4">Demo Publication 1</option>
				<option value="5">Demo Publication 2</option>
				<option value="6">Demo Publication 3</option>
			</select>

			<p></p>
			<select id="dID" name="dID">
				<optgroup label="future">
					<option class="pub-5 future" value="83">83 | 14 January 2011</option>
					<option class="pub-4 future" value="76">76 | 13 January 2011</option>
					<option class="pub-5 future" value="82">82 | 07 January 2011</option>
					<option class="pub-4 future" value="75">75 | 06 January 2011</option>
					<option class="pub-5 future" value="81">81 | 31 December 2010</option>
					<option class="pub-4 future" value="74">74 | 30 December 2010</option>
					<option class="pub-6 future" value="13">13 | 01 December 2010</option>
				</optgroup>
				<optgroup label="past">
					<option class="pub-5 past" value="80">80 | 24 December 2010</option>
					<option class="pub-4 past" value="73">73 | 23 December 2010</option>
					<option class="pub-5 past" value="67">67 | 17 December 2010</option>
					<option class="pub-4 past" value="72">72 | 16 December 2010</option>
					<option class="pub-5 past" value="66">66 | 10 December 2010</option>
					<option class="pub-4 past" value="71">71 | 09 December 2010</option>
				</optgroup>
			</select>
			<hr>
			<div id="log"></div>

		</td>
		<td>
			<pre>
var pID = $("#pID").val(), $dList = $("#dID-list");

$("#dID").selectmenu({
	width:"240px",
	direction : 'down',
	before: function(){
		$(this).val($("#dID option.pub-"+pID+".future:last").val() );
	},
	after: function(){
		var pID = $("#pID").val();
		$("#dID-list li:not(.group):not(.pub-"+pID+")").hide();
		$("#dID-list li.pub-"+pID+"").show();
		$(this).selectmenu("position");
	},
	change: function(){
		$("#log").html("#"+$(this).attr("id") + " - " + $(this).val());
	}
});

$("#pID").selectmenu({
	//direction: "down",
	change: function(){
		var pID = $(this).val();
		$("#dID-list li:not(.group):not(.pub-"+pID+")").hide();
		$("#dID-list li.pub-"+pID+"").show();
		$("#dID-list li.pub-"+pID+".future:last").addClass("selected").trigger("click");
		$("#dID").selectmenu("position");
	}
});
		</pre>

		</td>
	</tr>
</table>
<h2>Source</h2>
<pre id="srcpre"></pre>
	<textarea readonly id="src">
	</textarea>

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.min.js"></script>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.9/jquery-ui.min.js"></script>

<script type="text/javascript" src="jquery.ui.selectmenu.js"></script>

<script language="javascript">
	$(document).ready(function (){

		$.get("jquery.ui.selectmenu.js",function(d){
			var h = $("#srcpre").html(d).height();

			$("#srcpre").hide();
			$("#src").val(d).height(h);
		});


		$("select[name='select1']").selectmenu();
		$("select[name='select2']").selectmenu({
			direction: "down",
			speed:1000,
			maxHeight:200,
			change: function(){
				alert("value: "+$(this).val());
			}
		});

		var pID=$("#pID").val(), $dList=$("#dID-list");

		$("#dID").selectmenu({
			width:"200px",
			direction : 'down',
			before: function(){
				$(this).val($("#dID option.pub-"+pID+".future:last").val());
			},
			after: function(){
				var pID=$("#pID").val();
				$("#dID-list li:not(.group):not(.pub-"+pID+")").hide();
				$("#dID-list li.pub-"+pID+"").show();
				$(this).selectmenu("position");
			},
			change: function(){
				$("#log").html("#"+$(this).attr("id")+" - "+$(this).val());
			}
		});

		$("#pID").selectmenu({
			//direction: "down",
			change: function(){
				var pID=$(this).val();
				$("#dID-list li:not(.group):not(.pub-"+pID+")").hide();
				$("#dID-list li.pub-"+pID+"").show();
				$("#dID-list li.pub-"+pID+".future:last").addClass("selected").trigger("click");
				$("#dID").selectmenu("position");
			}
		});
	});
</script>
<script type="text/javascript">

	var _gaq=_gaq||[];
	_gaq.push(['_setAccount', 'UA-2827208-8']);
	_gaq.push(['_trackPageview']);

	(function(){
		var ga=document.createElement('script');
		ga.type='text/javascript';
		ga.async=true;
		ga.src=('https:'==document.location.protocol?'https://ssl':'http://www')+'.google-analytics.com/ga.js';
		var s=document.getElementsByTagName('script')[0];
		s.parentNode.insertBefore(ga,s);
	})();

</script>
</body>
</html>